GLOBALS blocco di M registri
IN,OUT, LOCAL blocchi di N registri
WINDOW_i finestra composta da IN,LOCAL,OUT 


CANSAVE,CANRESTORE,SWP,CWP sono quattro registri necessari per gestire la virtualizzazione

CALL, RETURN, FILL, SPILL sono quattro segnali necessari gestire I/O per il RF

ACTIVE WINDOW: è composto da GLOBALS + IN/OUT/LOCAL

CANSAVE è un registro che salva lo stato delle singole windows, in  particolare
se una window è fisicamente presente/disponibile nel RF(non è stata spostata in memoria)

CANRESTORE è un registro che salva lo stato delle parent window, in particolare
se il PARENT di una ACTIVE WINDOW è presente nel RF

CWP punta al blocco IN della ACTIVE WINDOW corrente. 
	Quando CALL è attivo, deve essere shiftato in avanti di 2xN posizioni
	in questo modo il vecchio blocco OUT diventa il nuovo IN 
	(accertarsi che la nuova window sia disponibile nel RF fisico)	

	Quando RETURN è attivo, deve essere shiftato indietro di 2xN posizioni
	(accertarsi che la parent window sia disponibile nel RF fisico)


SUBCALL,SUBRETURN,SPILL,FILL potrebbero essere  4 stati della FSM


SUBCALL: verificare se CANSAVE(i) è uguale a '1'
	 se sì: shiftare in avanti CWP di 2xN posizioni
	 se no: SPILL 

SUBRETURN:  verificare se CANRESTORE(i) è uguale a '1'
	    se sì: shiftare indietro CWP di 2xN posizioni
            se no: FILL 
 
SPILL è l'azione di spostare i blocchi IN/LOCAL dalla vecchia ACTIVEWINDOW alla memoria
	Il RF attiva il segnale SPILL e mette sul bus i dati 
	SPILLare un registro per ogni ciclo di clock
	CWP deve essere aggiornato
	SWP deve puntare all'indirizzo della WINDOW non più presente

FILL:   ?(si può verificare se è stato effettuato uno o più SPILL in precedenza)?
	da decidere
	CWP deve essere aggiornato
	SWP deve essere aggiornato


	       
		  